{"version":3,"sources":["scripts.js"],"names":["window","isw","$","extend","ajax_url","isw_vars","ajax","product_selector","price_selector","localization","apply","this","jQuery","Swatches","init","$form","$swatches","initSingle","initLoop","each","css","addClass","register","$term","find","$activeTerm","$this","term","attr","title","parent","val","trigger","off","on","e","$selectBox","hasClass","removeClass","preventDefault","$swatch","text","self","$resetBtn","$product","closest","variationData","parseJSON","length","show","attributes","getChosenAttributes","currentAttributes","data","count","chosenCount","updateAttributes","variation","findMatchingVariations","shift","foundVariation","removeAttr","select_options_text","$price","not","$price_cloned","html","remove","variationsImageUpdate","hide","document","$thisButton","variation_id","product_id","quantity","item","action","type","url","dataType","success","response","error","product_url","location","wc_add_to_cart_params","cart_redirect_after_add","body","fragments","cart_hash","cart_url","console","log","available_options_count","idx","el","current_attr_sw","current_attr_name","selected_attr_val","checkAttributes","num","variations","attr_name","attr_val","variation_active","variationAttributes","hasOwnProperty","variation_is_active","addSlashes","string","replace","chosen","attribute_name","value","settings","matching","i","isMatch","push","variation_attributes","val1","val2","match","undefined","$price_clone","clone","price_html","append","replaceWith","changeAddToCartBtnText","setVariationAttr","$el","resetVariationAttr","$product_img","image","full_src","sizes","$atcBtn","Object","keys","is_in_stock","add_to_cart_text","read_more_text","ready"],"mappings":"aAEAA,OAAAC,IAAA,GAEA,SACAA,EAAAC,GAEAA,EAAAC,OADAF,EAAAA,GAAA,GACA,CACAG,SAAAC,SAAAC,KACAC,iBAAAF,SAAAE,iBACAC,eAAAH,SAAAG,eACAC,aAAAJ,SAAAI,gBAGAC,MAAAC,KAAA,CAAAX,OAAAC,IAAAW,SAEA,SACAX,EAAAC,GACAD,EAAAA,GAAA,GACAC,EAAAC,OAAAF,EAAA,CACAY,SAAA,CACAC,KAAA,WACAH,KAAAI,MAAAb,EAAA,qCACAS,KAAAK,UAAAd,EAAA,oBAEAS,KAAAM,aACAN,KAAAO,WAEAhB,EAAA,aAAAiB,KAAA,WACA,uBAAAjB,EAAAS,MAAAS,IAAA,qBACAlB,EAAAS,MAAAU,SAAA,gBAUAC,SAAA,SAAAP,GACA,IACAQ,EAAAR,EAAAS,KAAA,aACAC,EAAAV,EAAAS,KAAA,gCAGAD,EAAAJ,KAAA,WACA,IAAAO,EAAAxB,EAAAS,MACAgB,EAAAD,EAAAE,KAAA,aACAC,EAAAH,EAAAE,KAAA,SACAA,EAAAF,EAAAI,SAAAF,KAAA,kBAEAG,EADAhB,EAAAS,KAAA,UAAAI,GACAG,MAEA,KAAAA,GAAAJ,IAAAI,IACA7B,EAAAS,MAAAU,SAAA,gBACAnB,EAAA,QAAA8B,QAAA,eAAA,CAAAJ,EAAAD,EAAAE,EAAAH,OAIAD,EAAAQ,IAAA,SAAAC,GAAA,QAAA,SAAAC,GACA,IAAAT,EAAAxB,EAAAS,MACAgB,EAAAD,EAAAE,KAAA,aACAC,EAAAH,EAAAE,KAAA,SACAA,EAAAF,EAAAI,SAAAF,KAAA,kBACAQ,EAAArB,EAAAS,KAAA,UAAAI,GAEA,GAAAF,EAAAW,SAAA,gBACA,OAAA,EAGAD,EAAAL,IAAAJ,GAAAK,QAAA,UAEAN,EAAAI,OAAA,eAAAN,KAAA,iBAAAc,YAAA,gBACAZ,EAAAL,SAAA,gBAEAnB,EAAA,QAAA8B,QAAA,eAAA,CAAAJ,EAAAD,EAAAE,EAAAH,IAEAS,EAAAI,mBAGAxB,EAAAmB,GAAA,sCACA,WACAnB,EAAAS,KAAA,UAAAL,KAAA,WACA,IAAAO,EAAAxB,EAAAS,MACA6B,EAAAd,EAAAI,SAAAN,KAAA,eAEAgB,EAAAhB,KAAA,aAAAc,YAAA,eAAAjB,SAAA,gBAEAK,EAAAF,KAAA,kBAAAL,KAAA,WACA,IAAAY,EAAA7B,EAAAS,MAAAoB,MACAS,EAAAhB,KAAA,wBAAAO,EAAA,MAAAO,YAAA,gBAAAjB,SAAA,qBAKAN,EAAAmB,GAAA,aAAA,WACAhC,EAAA,QAAA8B,QAAA,aACA9B,EAAAS,MAAAa,KAAA,iBAAAc,YAAA,gBACApC,EAAAS,MAAAa,KAAA,UAAAL,KAAA,WACA,IAAAS,EAAA1B,EAAAS,MAAAiB,KAAA,MACAC,EAAA3B,EAAAS,MAAAa,KAAA,mBAAAiB,OACAd,EAAAzB,EAAAS,MAAAoB,MACA,KAAAJ,IACAzB,EAAAS,MAAAmB,SAAAN,KAAA,wBAAAG,EAAA,MAAAN,SAAA,gBACAnB,EAAA,QAAA8B,QAAA,iBAAA,CAAAJ,EAAAD,EAAAE,UAMAZ,WAAA,WACA,IAAAyB,EAAA/B,KACAY,EAAAmB,EAAA3B,MAAAS,KAAA,aACAC,EAAAiB,EAAA3B,MAAAS,KAAA,gCAGAD,EAAAJ,KAAA,WACA,IAAAO,EAAAxB,EAAAS,MACAgB,EAAAD,EAAAE,KAAA,aACAC,EAAAH,EAAAE,KAAA,SACAA,EAAAF,EAAAI,SAAAF,KAAA,kBAEAG,EADAW,EAAA3B,MAAAS,KAAA,UAAAI,GACAG,MAEA,KAAAA,GAAAJ,IAAAI,IACA7B,EAAAS,MAAAU,SAAA,gBACAnB,EAAA,QAAA8B,QAAA,eAAA,CAAAJ,EAAAD,EAAAE,EAAAH,OAIAD,EAAAQ,IAAA,SAAAC,GAAA,QAAA,SAAAC,GACA,IAAAT,EAAAxB,EAAAS,MACAgB,EAAAD,EAAAE,KAAA,aACAC,EAAAH,EAAAE,KAAA,SACAA,EAAAF,EAAAI,SAAAF,KAAA,kBACAQ,EAAAM,EAAA3B,MAAAS,KAAA,UAAAI,GAEA,GAAAF,EAAAW,SAAA,gBACA,OAAA,EAGAD,EAAAL,IAAAJ,GAAAK,QAAA,UAEAN,EAAAI,OAAA,eAAAN,KAAA,iBAAAc,YAAA,gBACAZ,EAAAL,SAAA,gBAEAnB,EAAA,QAAA8B,QAAA,eAAA,CAAAJ,EAAAD,EAAAE,EAAAH,IAEAS,EAAAI,mBAGAG,EAAA3B,MAAAmB,GAAA,sCAAA,WACAQ,EAAA3B,MAAAS,KAAA,UAAAL,KAAA,WACA,IAAAO,EAAAxB,EAAAS,MACA6B,EAAAd,EAAAI,SAAAN,KAAA,eAEAgB,EAAAhB,KAAA,aAAAc,YAAA,eAAAjB,SAAA,gBAEAK,EAAAF,KAAA,kBAAAL,KAAA,WACA,IAAAY,EAAA7B,EAAAS,MAAAoB,MACAS,EAAAhB,KACA,wBAAAO,EAAA,MAAAO,YAAA,gBAAAjB,SAAA,qBAKAqB,EAAA3B,MAAAmB,GAAA,aAAA,WACAhC,EAAA,QAAA8B,QAAA,aACA9B,EAAAS,MAAAa,KAAA,iBAAAc,YAAA,gBACApC,EAAAS,MAAAa,KAAA,UAAAL,KAAA,WACA,IAAAS,EAAA1B,EAAAS,MAAAiB,KAAA,MACAC,EAAA3B,EAAAS,MAAAa,KAAA,mBAAAiB,OACAd,EAAAzB,EAAAS,MAAAoB,MACA,KAAAJ,IACAzB,EAAAS,MAAAmB,SAAAN,KAAA,wBAAAG,EAAA,MAAAN,SAAA,gBACAnB,EAAA,QAAA8B,QAAA,iBAAA,CAAAJ,EAAAD,EAAAE,UAOAX,SAAA,WACA,IAAAwB,EAAA/B,KAEA+B,EAAA1B,UAAAG,KAAA,WAEA,IAAAH,EAAAd,EAAAS,MACAY,EAAAP,EAAAQ,KACA,gCACAmB,EAAA3B,EAAAQ,KACA,2BACAoB,EAAA5B,EAAA6B,QACA5C,EAAAM,kBACAuC,EAAA5C,EAAA6C,UACA/B,EAAAY,KAAA,4BAGA,GAAAZ,EAAAQ,KAAA,eAAAwB,QACAhC,EAAAK,SAAA,aAGAE,EAAAU,IAAA,SAAAC,GAAA,QAAA,SAAAC,GAEA,IAAAT,EAAAxB,EAAAS,MAEA,GAAAe,EAAAW,SAAA,gBACA,OAAA,EAGAX,EAAAE,KAAA,aAEAgB,EAAApB,KAAA,aAAAc,YAAA,4BACAZ,EAAAI,SAAAN,KAAA,0BAAAc,YAAA,gBAEAZ,EAAAW,SAAA,iBACAX,EAAAI,SAAAQ,YAAA,iBACAM,EAAAN,YAAA,wBAEAM,EAAApB,KAAA,iBAAAwB,QACAL,EAAAX,QAAA,WAGAN,EAAAI,SAAAT,SAAA,iBACAK,EAAAL,SAAA,gBAEAuB,EAAAvB,SAAA,wBACAsB,EAAAtB,SAAA,QAAA4B,QAGA,IAAAC,EAAAR,EAAAS,oBACAnC,GACAoC,EAAAF,EAAAG,KAEAH,EAAAI,QAAAJ,EAAAK,aACAb,EAAAc,iBAAAxC,EAAA8B,IAIAW,EAFAf,EAAAgB,uBACAZ,EAAAM,GACAO,SAIAjB,EAAAkB,eAAA5C,EAAAyC,GAEAd,EAAAX,QAAA,UAGAU,EAAAc,iBAAAxC,EAAA8B,GAGAX,EAAAI,mBAIAI,EAAAV,IAAA,SAAAC,GAAA,QAAA,WAEAU,EAAAN,YAAA,wBAEAtB,EAAA6C,WAAA,qBACA7C,EAAAQ,KAAA,eAAAc,YAAA,iBACAtB,EAAAQ,KAAA,aAAAc,YACA,yCAEApC,EAAA,QAAA8B,QAAA,oCAAA,CAAAY,IAEAA,EAAApB,KAAA,uBAAAc,YACA,yDAAAG,KAAAxC,EAAAQ,aAAAqD,qBAGA,IAAAC,EAAAnB,EAAApB,KACAvB,EAAAO,gBAAAwD,IAAA,iBACAC,EAAArB,EAAApB,KAAA,iBAYA,OAVAyC,EAAAjB,SACAe,EAAAG,KAAAD,EAAAC,QACAD,EAAAE,UAIAzB,EAAA0B,uBAAA,EAAAxB,GAEA1C,EAAAS,MAAA2B,YAAA,QAAA+B,QAEA,MAKAnE,EAAAoE,UAAApC,GAAA,QAAA,sDAAA,WACA,IAAAqC,EAAArE,EAAAS,MACAK,EAAAuD,EAAA1B,QACA5C,EAAAM,kBAAAiB,KAAA,iBAEAgD,EAAAxD,EAAAY,KACA,qBAEA,QAAA,IAAA4C,GAAA,IAAAA,EACA,OAAA,EAGA,IAAAC,EAAAF,EAAA3C,KAAA,mBACA8C,EAAAH,EAAA3C,KAAA,iBACA+C,EAAA,GAEA3D,EAAAQ,KAAA,eAAAL,KAAA,WACA,IAAAS,EAAA1B,EAAAS,MAAAiB,KAAA,kBAEA+C,EAAA/C,GAAA1B,EAAAS,MAAAa,KAAA,qBAAAI,KAAA,gBAGA2C,EAAAjC,YAAA,SAEAe,EAAA,CACAuB,OAAA,kBACAH,WAAAA,EACAC,SAAAA,EACAF,aAAAA,EACAf,UAAAkB,GAsCA,OAnCAzE,EAAA,QAAA8B,QAAA,iBAAA,CAAAuC,EAAAlB,IAEAnD,EAAAI,KAAA,CACAuE,KAAA,OACAC,IAAA7E,EAAAG,SACAiD,KAAAA,EACA0B,SAAA,OACAC,QAAA,SAAAC,GACA,IAAAA,EACA,OAAA,EAGAA,EAAAC,OAAAD,EAAAE,YACAnF,OAAAoF,SAAAH,EAAAE,YAKA,QAAAE,sBAAAC,wBAMApF,EAAAoE,SAAAiB,MAAAvD,QAAA,gBAAA,CACAiD,EAAAO,UACAP,EAAAQ,UACAlB,IARAvE,OAAAoF,SAAAC,sBAAAK,UAWAR,MAAA,SAAAA,GACAS,QAAAC,IAAAV,OAIA,KAKA1B,iBAAA,SAAAxC,EAAA8B,GACA,IAGA+C,EAHAnD,EAAA/B,KAEAyC,EADAV,EAAAS,oBAAAnC,GACAqC,KAEArC,EAAAQ,KAAA,eAEAL,KAAA,SAAA2E,EAAAC,GAEA,IAAAC,EAAA9F,EAAA6F,GACAE,EAAA,aACAD,EAAApE,KACA,kBACAsE,EAAAF,EAAAxE,KACA,0BAAAI,KAAA,aAEAuE,EAAAjG,EAAAC,QAAA,EAAA,GACAiD,GAEA+C,EAAAF,GAAA,GAEA,IAIAG,EAJAC,EAAA3D,EAAAgB,uBACAZ,EAAAqD,GAGA,IAAAC,KAAAC,EACA,QAAA,IAAAA,EAAAD,GAAA,CACA,IAEAE,EAGAC,EACAC,EANAC,EAAAJ,EAAAD,GAAAlD,WAEA,IAAAoD,KAAAG,EACAA,EAAAC,eACAJ,KACAC,EAAAE,EAAAH,GACAE,EAAA,GAEAF,IAAAL,IACAI,EAAAD,GAAAO,sBACAH,EAAA,YAGAD,EAEAP,EAAAxE,KACA,wBAAA+E,EAAA,MAGAP,EAAAxE,KAAA,cAHAH,SAAA,OAAAmF,KAWAX,EAAAG,EAAAxE,KACA,yBAAAwB,OAEAkD,IACA,IAAAL,GAAAG,EAAAxE,KACA,oCACAkB,EAAAkE,WAAAV,GAAA,MAAAlD,QAOAgD,EAAAxE,KAAA,+BAAAH,SAAA,mBAIAuF,WAAA,SAAAC,GAGA,OADAA,GADAA,EAAAA,EAAAC,QAAA,KAAA,QACAA,QAAA,KAAA,QAIA3D,oBAAA,SAAAnC,GACA,IAAAqC,EAAA,GACAC,EAAA,EACAyD,EAAA,EAiBA,OAhBA/F,EAAAQ,KAAA,eAEAL,KAAA,WAEA,IAAA6F,EAAA,aACA9G,EAAAS,MAAAiB,KAAA,kBACAqF,EAAA/G,EAAAS,MAAAa,KAAA,0BAAAI,KAAA,cAAA,GAEA,EAAAqF,EAAAjE,QACA+D,IAGAzD,IACAD,EAAA2D,GAAAC,IAGA,CACA3D,MAAAA,EACAC,YAAAwD,EACA1D,KAAAA,IAIAK,uBAAA,SAAAZ,EAAAoE,GAEA,IADA,IAAAC,EAAA,GACAC,EAAA,EAAAA,EAAAtE,EAAAE,OAAAoE,IAAA,CACA,IAAA3D,EAAAX,EAAAsE,GAEAzG,KAAA0G,QAAA5D,EAAAP,WAAAgE,IACAC,EAAAG,KAAA7D,GAGA,OAAA0D,GAGAE,QAAA,SAAAE,EAAArE,GACA,IACAoD,EAEAkB,EACAC,EAJAC,GAAA,EACA,IAAApB,KAAAiB,EACAA,EAAAb,eAAAJ,KACAkB,EAAAD,EAAAjB,GACAmB,EAAAvE,EAAAoD,QACAqB,IAAAH,QAAAG,IAAAF,GACA,IAAAD,EAAAxE,QAAA,IAAAyE,EAAAzE,QACAwE,IAAAC,IACAC,GAAA,IAIA,OAAAA,GAGA9D,eAAA,SAAA5C,EAAAyC,GACA,IACAb,EAAA5B,EAAA6B,QAAA,YACAkB,EAAAnB,EAAApB,KAAAvB,EAAAO,gBAAAwD,IAAA,iBACA4D,EAAA7D,EAAA8D,QAAAxG,SAAA,gBAAAD,IAAA,UAAA,QAEAqC,EAAAqE,YAEAlF,EAAApB,KAAA,iBAAAwB,QACAJ,EAAAmF,OAAAH,GAGA7D,EAAAiE,YAAAvE,EAAAqE,aAEAlF,EAAApB,KAAA,iBAAAwB,SACAe,EAAAiE,YAAAJ,EAAA1D,QACA0D,EAAAzD,UAKAnD,EAAAY,KAAA,oBAAA6B,EAAAe,cApBA7D,KAuBAyD,sBAAAX,EAAAb,GAvBAjC,KA0BAsH,uBAAAxE,EAAAb,IAGAsF,iBAAA,SAAAC,EAAAvG,EAAAqF,QACAU,IAAAQ,EAAAvG,KAAA,UAAAA,IACAuG,EAAAvG,KAAA,UAAAA,EACAuG,EAAAvG,KAAAA,GACAuG,EAAAvG,KAAAA,GAAA,KAEA,IAAAqF,EACAkB,EAAAtE,WAAAjC,GAEAuG,EAAAvG,KAAAA,EAAAqF,IAIAmB,mBAAA,SAAAD,EAAAvG,QACA+F,IAAAQ,EAAAvG,KAAA,UAAAA,IACAuG,EAAAvG,KAAAA,EAAAuG,EAAAvG,KAAA,UAAAA,KAIAwC,sBAAA,SAAAX,EAAAb,GACA,IAAAF,EAAA/B,KACA0H,EAAAzF,EAAApB,KAAA,kBAEAiC,GAAAA,EAAA6E,MAAAC,UACA7F,EAAAwF,iBAAAG,EAAA,MACA5E,EAAA6E,MAAAC,UACA7F,EAAAwF,iBAAAG,EAAA,SACA5E,EAAA6E,MAAAC,UACA7F,EAAAwF,iBAAAG,EAAA,QACA5E,EAAA6E,MAAAE,SAEA9F,EAAA0F,mBAAAC,EAAA,OACA3F,EAAA0F,mBAAAC,EAAA,UACA3F,EAAA0F,mBAAAC,EAAA,WAKAJ,uBAAA,SAAAxE,EAAAb,GACA,IAAA6F,EAAA7F,EAAApB,KAAA,uBACAiB,EAAA,GAEAgG,EAAAnG,YAAA,SAEAoG,OAAAC,KAAAlF,EAAAP,YAAAF,QAAAJ,EAAApB,KAAA,eAAAwB,QACA,IAAAS,EAAAmF,aACAnG,EAAAxC,EAAAQ,aAAAoI,iBACAJ,EAAApH,SAAA,aAAAiB,YAAA,kBAGAG,EAAAxC,EAAAQ,aAAAqI,eACAL,EAAApH,SAAA,gBAAAiB,YAAA,eAGAG,EAAAxC,EAAAQ,aAAAqD,oBACA2E,EAAAnG,YAAA,2BAGAmG,EAAApH,SAAA,oBAAAoB,KAAAA,GAEAvC,EAAA,QAAA8B,QAAA,qCAAA,CAAAY,SAKAlC,MAAAC,KAAA,CAAAX,OAAAC,IAAAW,SAEA,SACAX,EAAAC,GACAA,EAAAoE,UAAAyE,MAAA,gBACA,IAAA9I,EAAAY,UACAZ,EAAAY,SAAAC,UAIAJ,MAAAC,KAAA,CAAAX,OAAAC,IAAAW","file":"../../frontend.min.js","sourcesContent":["'use strict';\n\nwindow.isw = {};\n\n(\n\tfunction( isw, $ ) {\n\t\tisw = isw || {};\n\t\t$.extend( isw, {\n\t\t\tajax_url: isw_vars.ajax,\n\t\t\tproduct_selector: isw_vars.product_selector,\n\t\t\tprice_selector: isw_vars.price_selector,\n\t\t\tlocalization: isw_vars.localization,\n\t\t} );\n\t}\n).apply( this, [ window.isw, jQuery ] );\n\n(\n\tfunction( isw, $ ) {\n\t\tisw = isw || {};\n\t\t$.extend( isw, {\n\t\t\tSwatches: {\n\t\t\t\tinit: function() {\n\t\t\t\t\tthis.$form = $( 'form.isw-swatches.variations_form' );\n\t\t\t\t\tthis.$swatches = $( 'div.isw-swatches' );\n\n\t\t\t\t\tthis.initSingle();\n\t\t\t\t\tthis.initLoop();\n\n\t\t\t\t\t$( '.isw-term' ).each( function() {\n\t\t\t\t\t\tif ( $( this ).css( 'background-color' ) === 'rgb(255, 255, 255)' ) {\n\t\t\t\t\t\t\t$( this ).addClass( 'isw-white' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Register swatches for custom variations form.\n\t\t\t\t *\n\t\t\t\t * @param $form\n\t\t\t\t */\n\t\t\t\tregister: function( $form ) {\n\t\t\t\t\tvar self        = this,\n\t\t\t\t\t    $term       = $form.find( '.isw-term' ),\n\t\t\t\t\t    $activeTerm = $form.find( '.isw-term:not(.isw-disabled)' );\n\n\t\t\t\t\t// Load default value.\n\t\t\t\t\t$term.each( function() {\n\t\t\t\t\t\tvar $this      = $( this ),\n\t\t\t\t\t\t    term       = $this.attr( 'data-term' ),\n\t\t\t\t\t\t    title      = $this.attr( 'title' ),\n\t\t\t\t\t\t    attr       = $this.parent().attr( 'data-attribute' ),\n\t\t\t\t\t\t    $selectBox = $form.find( 'select#' + attr ),\n\t\t\t\t\t\t    val        = $selectBox.val();\n\n\t\t\t\t\t\tif ( val !== '' && term === val ) {\n\t\t\t\t\t\t\t$( this ).addClass( 'isw-selected' );\n\t\t\t\t\t\t\t$( 'body' ).trigger( 'isw_selected', [ attr, term, title, $this ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t$activeTerm.off( 'click' ).on( 'click', function( e ) {\n\t\t\t\t\t\tvar $this      = $( this ),\n\t\t\t\t\t\t    term       = $this.attr( 'data-term' ),\n\t\t\t\t\t\t    title      = $this.attr( 'title' ),\n\t\t\t\t\t\t    attr       = $this.parent().attr( 'data-attribute' ),\n\t\t\t\t\t\t    $selectBox = $form.find( 'select#' + attr );\n\n\t\t\t\t\t\tif ( $this.hasClass( 'isw-disabled' ) ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$selectBox.val( term ).trigger( 'change' );\n\n\t\t\t\t\t\t$this.parent( '.isw-swatch' ).find( '.isw-selected' ).removeClass( 'isw-selected' );\n\t\t\t\t\t\t$this.addClass( 'isw-selected' );\n\n\t\t\t\t\t\t$( 'body' ).trigger( 'isw_selected', [ attr, term, title, $this ] );\n\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} );\n\n\t\t\t\t\t$form.on( 'woocommerce_update_variation_values',\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t$form.find( 'select' ).each( function() {\n\t\t\t\t\t\t\t\tvar $this = $( this );\n\t\t\t\t\t\t\t\tvar $swatch = $this.parent().find( '.isw-swatch' );\n\n\t\t\t\t\t\t\t\t$swatch.find( '.isw-term' ).removeClass( 'isw-enabled' ).addClass( 'isw-disabled' );\n\n\t\t\t\t\t\t\t\t$this.find( 'option.enabled' ).each( function() {\n\t\t\t\t\t\t\t\t\tvar val = $( this ).val();\n\t\t\t\t\t\t\t\t\t$swatch.find( '.isw-term[data-term=\"' + val + '\"]' ).removeClass( 'isw-disabled' ).addClass( 'isw-enabled' );\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t$form.on( 'reset_data', function() {\n\t\t\t\t\t\t$( 'body' ).trigger( 'isw_reset' );\n\t\t\t\t\t\t$( this ).find( '.isw-selected' ).removeClass( 'isw-selected' );\n\t\t\t\t\t\t$( this ).find( 'select' ).each( function() {\n\t\t\t\t\t\t\tvar attr = $( this ).attr( 'id' );\n\t\t\t\t\t\t\tvar title = $( this ).find( 'option:selected' ).text();\n\t\t\t\t\t\t\tvar term = $( this ).val();\n\t\t\t\t\t\t\tif ( term !== '' ) {\n\t\t\t\t\t\t\t\t$( this ).parent().find( '.isw-term[data-term=\"' + term + '\"]' ).addClass( 'isw-selected' );\n\t\t\t\t\t\t\t\t$( 'body' ).trigger( 'isw_reset_attr', [ attr, term, title ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\t\t\t\t},\n\n\t\t\t\tinitSingle: function() {\n\t\t\t\t\tvar self        = this,\n\t\t\t\t\t    $term       = self.$form.find( '.isw-term' ),\n\t\t\t\t\t    $activeTerm = self.$form.find( '.isw-term:not(.isw-disabled)' );\n\n\t\t\t\t\t// Load default value.\n\t\t\t\t\t$term.each( function() {\n\t\t\t\t\t\tvar $this      = $( this ),\n\t\t\t\t\t\t    term       = $this.attr( 'data-term' ),\n\t\t\t\t\t\t    title      = $this.attr( 'title' ),\n\t\t\t\t\t\t    attr       = $this.parent().attr( 'data-attribute' ),\n\t\t\t\t\t\t    $selectBox = self.$form.find( 'select#' + attr ),\n\t\t\t\t\t\t    val        = $selectBox.val();\n\n\t\t\t\t\t\tif ( val !== '' && term === val ) {\n\t\t\t\t\t\t\t$( this ).addClass( 'isw-selected' );\n\t\t\t\t\t\t\t$( 'body' ).trigger( 'isw_selected', [ attr, term, title, $this ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t\t$activeTerm.off( 'click' ).on( 'click', function( e ) {\n\t\t\t\t\t\tvar $this      = $( this ),\n\t\t\t\t\t\t    term       = $this.attr( 'data-term' ),\n\t\t\t\t\t\t    title      = $this.attr( 'title' ),\n\t\t\t\t\t\t    attr       = $this.parent().attr( 'data-attribute' ),\n\t\t\t\t\t\t    $selectBox = self.$form.find( 'select#' + attr );\n\n\t\t\t\t\t\tif ( $this.hasClass( 'isw-disabled' ) ) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$selectBox.val( term ).trigger( 'change' );\n\n\t\t\t\t\t\t$this.parent( '.isw-swatch' ).find( '.isw-selected' ).removeClass( 'isw-selected' );\n\t\t\t\t\t\t$this.addClass( 'isw-selected' );\n\n\t\t\t\t\t\t$( 'body' ).trigger( 'isw_selected', [ attr, term, title, $this ] );\n\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} );\n\n\t\t\t\t\tself.$form.on( 'woocommerce_update_variation_values', function() {\n\t\t\t\t\t\tself.$form.find( 'select' ).each( function() {\n\t\t\t\t\t\t\tvar $this = $( this );\n\t\t\t\t\t\t\tvar $swatch = $this.parent().find( '.isw-swatch' );\n\n\t\t\t\t\t\t\t$swatch.find( '.isw-term' ).removeClass( 'isw-enabled' ).addClass( 'isw-disabled' );\n\n\t\t\t\t\t\t\t$this.find( 'option.enabled' ).each( function() {\n\t\t\t\t\t\t\t\tvar val = $( this ).val();\n\t\t\t\t\t\t\t\t$swatch.find(\n\t\t\t\t\t\t\t\t\t'.isw-term[data-term=\"' + val + '\"]' ).removeClass( 'isw-disabled' ).addClass( 'isw-enabled' );\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t\tself.$form.on( 'reset_data', function() {\n\t\t\t\t\t\t$( 'body' ).trigger( 'isw_reset' );\n\t\t\t\t\t\t$( this ).find( '.isw-selected' ).removeClass( 'isw-selected' );\n\t\t\t\t\t\t$( this ).find( 'select' ).each( function() {\n\t\t\t\t\t\t\tvar attr = $( this ).attr( 'id' );\n\t\t\t\t\t\t\tvar title = $( this ).find( 'option:selected' ).text();\n\t\t\t\t\t\t\tvar term = $( this ).val();\n\t\t\t\t\t\t\tif ( term !== '' ) {\n\t\t\t\t\t\t\t\t$( this ).parent().find( '.isw-term[data-term=\"' + term + '\"]' ).addClass( 'isw-selected' );\n\t\t\t\t\t\t\t\t$( 'body' ).trigger( 'isw_reset_attr', [ attr, term, title ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t},\n\n\t\t\t\tinitLoop: function() {\n\t\t\t\t\tvar self = this;\n\n\t\t\t\t\tself.$swatches.each( function() {\n\n\t\t\t\t\t\tvar $swatches     = $( this ),\n\t\t\t\t\t\t    $term         = $swatches.find(\n\t\t\t\t\t\t\t    '.isw-term:not(.isw-disabled)' ),\n\t\t\t\t\t\t    $resetBtn     = $swatches.find(\n\t\t\t\t\t\t\t    '.reset_variations--loop' ),\n\t\t\t\t\t\t    $product      = $swatches.closest(\n\t\t\t\t\t\t\t    isw.product_selector ),\n\t\t\t\t\t\t    variationData = $.parseJSON(\n\t\t\t\t\t\t\t    $swatches.attr( 'data-product_variations' ) );\n\n\t\t\t\t\t\t// add class if empty\n\t\t\t\t\t\tif ( $swatches.find( '.isw-swatch' ).length == 0 ) {\n\t\t\t\t\t\t\t$swatches.addClass( 'isw-empty' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$term.off( 'click' ).on( 'click', function( e ) {\n\n\t\t\t\t\t\t\tvar $this = $( this );\n\n\t\t\t\t\t\t\tif ( $this.hasClass( 'isw-disabled' ) ) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar term = $this.attr( 'data-term' );\n\n\t\t\t\t\t\t\t$product.find( '.isw-term' ).removeClass( 'isw-disabled isw-enabled' );\n\t\t\t\t\t\t\t$this.parent().find( '.isw-term.isw-selected' ).removeClass( 'isw-selected' );\n\n\t\t\t\t\t\t\tif ( $this.hasClass( 'isw-selected' ) ) {\n\t\t\t\t\t\t\t\t$this.parent().removeClass( 'isw-activated' );\n\t\t\t\t\t\t\t\t$product.removeClass( 'isw-product-swatched' );\n\n\t\t\t\t\t\t\t\tif ( ! $product.find( '.isw-selected' ).length ) {\n\t\t\t\t\t\t\t\t\t$resetBtn.trigger( 'click' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$this.parent().addClass( 'isw-activated' );\n\t\t\t\t\t\t\t\t$this.addClass( 'isw-selected' );\n\n\t\t\t\t\t\t\t\t$product.addClass( 'isw-product-swatched' );\n\t\t\t\t\t\t\t\t$resetBtn.addClass( 'show' ).show();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar attributes        = self.getChosenAttributes(\n\t\t\t\t\t\t\t\t$swatches ),\n\t\t\t\t\t\t\t    currentAttributes = attributes.data;\n\n\t\t\t\t\t\t\tif ( attributes.count === attributes.chosenCount ) {\n\t\t\t\t\t\t\t\tself.updateAttributes( $swatches, variationData );\n\n\t\t\t\t\t\t\t\tvar matching_variations = self.findMatchingVariations(\n\t\t\t\t\t\t\t\t\tvariationData, currentAttributes ),\n\t\t\t\t\t\t\t\t    variation           = matching_variations.shift();\n\n\t\t\t\t\t\t\t\tif ( variation ) {\n\t\t\t\t\t\t\t\t\t// Found variation\n\t\t\t\t\t\t\t\t\tself.foundVariation( $swatches, variation );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$resetBtn.trigger( 'click' );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tself.updateAttributes( $swatches, variationData );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\te.preventDefault()\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t$resetBtn.off( 'click' ).on( 'click', function() {\n\n\t\t\t\t\t\t\t$product.removeClass( 'isw-product-swatched' );\n\n\t\t\t\t\t\t\t$swatches.removeAttr( 'data-variation_id' );\n\t\t\t\t\t\t\t$swatches.find( '.isw-swatch' ).removeClass( 'isw-activated' );\n\t\t\t\t\t\t\t$swatches.find( '.isw-term' ).removeClass(\n\t\t\t\t\t\t\t\t'isw-enabled isw-disabled isw-selected' );\n\n\t\t\t\t\t\t\t$( 'body' ).trigger( 'isw_reset_add_to_cart_button_text', [ $product ] );\n\n\t\t\t\t\t\t\t$product.find( '.add_to_cart_button' ).removeClass(\n\t\t\t\t\t\t\t\t'isw-ready isw-readmore isw-text-changed added loading' ).text( isw.localization.select_options_text );\n\n\t\t\t\t\t\t\t// reset price\n\t\t\t\t\t\t\tvar $price        = $product.find(\n\t\t\t\t\t\t\t\tisw.price_selector ).not( '.price-cloned' ),\n\t\t\t\t\t\t\t    $price_cloned = $product.find( '.price-cloned' );\n\n\t\t\t\t\t\t\tif ( $price_cloned.length ) {\n\t\t\t\t\t\t\t\t$price.html( $price_cloned.html() );\n\t\t\t\t\t\t\t\t$price_cloned.remove();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// reset image\n\t\t\t\t\t\t\tself.variationsImageUpdate( false, $product );\n\n\t\t\t\t\t\t\t$( this ).removeClass( 'show' ).hide();\n\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} );\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Ajax add to cart.\n\t\t\t\t\t$( document ).on( 'click', '.add_to_cart_button.product_type_variable.isw-ready', function() {\n\t\t\t\t\t\tvar $thisButton = $( this ),\n\t\t\t\t\t\t    $swatches   = $thisButton.closest(\n\t\t\t\t\t\t\t    isw.product_selector ).find( '.isw-swatches' );\n\n\t\t\t\t\t\tvar variation_id = $swatches.attr(\n\t\t\t\t\t\t\t'data-variation_id' );\n\n\t\t\t\t\t\tif ( typeof variation_id == 'undefined' || variation_id == '' ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar product_id = $thisButton.attr( 'data-product_id' ),\n\t\t\t\t\t\t    quantity   = $thisButton.attr( 'data-quantity' ),\n\t\t\t\t\t\t    item       = {};\n\n\t\t\t\t\t\t$swatches.find( '.isw-swatch' ).each( function() {\n\t\t\t\t\t\t\tvar attr = $( this ).attr( 'data-attribute' );\n\n\t\t\t\t\t\t\titem[ attr ] = $( this ).find( 'span.isw-selected' ).attr( 'aria-label' );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t$thisButton.removeClass( 'added' );\n\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\taction: 'isw_add_to_cart',\n\t\t\t\t\t\t\tproduct_id: product_id,\n\t\t\t\t\t\t\tquantity: quantity,\n\t\t\t\t\t\t\tvariation_id: variation_id,\n\t\t\t\t\t\t\tvariation: item,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t$( 'body' ).trigger( 'adding_to_cart', [ $thisButton, data ] );\n\n\t\t\t\t\t\t$.ajax( {\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\turl: isw.ajax_url,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\t\t\t\tif ( ! response ) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif ( response.error && response.product_url ) {\n\t\t\t\t\t\t\t\t\twindow.location = response.product_url;\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Redirect to cart option.\n\t\t\t\t\t\t\t\tif ( wc_add_to_cart_params.cart_redirect_after_add === 'yes' ) {\n\t\t\t\t\t\t\t\t\twindow.location = wc_add_to_cart_params.cart_url;\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Trigger event so themes can refresh other areas.\n\t\t\t\t\t\t\t\t$( document.body ).trigger( 'added_to_cart', [\n\t\t\t\t\t\t\t\t\tresponse.fragments,\n\t\t\t\t\t\t\t\t\tresponse.cart_hash,\n\t\t\t\t\t\t\t\t\t$thisButton\n\t\t\t\t\t\t\t\t] );\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror: function( error ) {\n\t\t\t\t\t\t\t\tconsole.log( error );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} );\n\n\t\t\t\t},\n\n\t\t\t\tupdateAttributes: function( $swatches, variationData ) {\n\t\t\t\t\tvar self                    = this,\n\t\t\t\t\t    attributes              = self.getChosenAttributes( $swatches ),\n\t\t\t\t\t    currentAttributes       = attributes.data,\n\t\t\t\t\t    available_options_count = 0,\n\t\t\t\t\t    $swatch                 = $swatches.find( '.isw-swatch' );\n\n\t\t\t\t\t$swatch.each( function( idx, el ) {\n\n\t\t\t\t\t\tvar current_attr_sw         = $( el ),\n\t\t\t\t\t\t    current_attr_name       = 'attribute_' +\n\t\t\t\t\t\t                              current_attr_sw.attr(\n\t\t\t\t\t\t\t                              'data-attribute' ),\n\t\t\t\t\t\t    selected_attr_val       = current_attr_sw.find(\n\t\t\t\t\t\t\t    '.isw-term.isw-selected' ).attr( 'data-term' ),\n\t\t\t\t\t\t    selected_attr_val_valid = true,\n\t\t\t\t\t\t    checkAttributes         = $.extend( true, {},\n\t\t\t\t\t\t\t    currentAttributes );\n\n\t\t\t\t\t\tcheckAttributes[ current_attr_name ] = '';\n\n\t\t\t\t\t\tvar variations = self.findMatchingVariations(\n\t\t\t\t\t\t\tvariationData, checkAttributes );\n\n\t\t\t\t\t\t// Loop through variations.\n\t\t\t\t\t\tfor ( var num in variations ) {\n\t\t\t\t\t\t\tif ( typeof variations[ num ] !== 'undefined' ) {\n\t\t\t\t\t\t\t\tvar variationAttributes = variations[ num ].attributes;\n\n\t\t\t\t\t\t\t\tfor ( var attr_name in variationAttributes ) {\n\t\t\t\t\t\t\t\t\tif ( variationAttributes.hasOwnProperty(\n\t\t\t\t\t\t\t\t\t\tattr_name ) ) {\n\t\t\t\t\t\t\t\t\t\tvar attr_val         = variationAttributes[ attr_name ],\n\t\t\t\t\t\t\t\t\t\t    variation_active = '';\n\n\t\t\t\t\t\t\t\t\t\tif ( attr_name === current_attr_name ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( variations[ num ].variation_is_active ) {\n\t\t\t\t\t\t\t\t\t\t\t\tvariation_active = 'enabled';\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif ( attr_val ) {\n\t\t\t\t\t\t\t\t\t\t\t\t// available\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent_attr_sw.find(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'.isw-term[data-term=\"' + attr_val + '\"]' ).addClass( 'isw-' + variation_active );\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t// apply for all swatches\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent_attr_sw.find( '.isw-term' ).addClass( 'isw-' + variation_active );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tavailable_options_count = current_attr_sw.find(\n\t\t\t\t\t\t\t'.isw-term.isw-enabled' ).length;\n\n\t\t\t\t\t\tif ( selected_attr_val && (\n\t\t\t\t\t\t\tavailable_options_count === 0 || current_attr_sw.find(\n\t\t\t\t\t\t\t\t'.isw-term.isw-enabled[data-term=\"' +\n\t\t\t\t\t\t\t\tself.addSlashes( selected_attr_val ) + '\"]' ).length ===\n\t\t\t\t\t\t\t                                 0\n\t\t\t\t\t\t) ) {\n\t\t\t\t\t\t\tselected_attr_val_valid = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Disable terms not available\n\t\t\t\t\t\tcurrent_attr_sw.find( '.isw-term:not(.isw-enabled)' ).addClass( 'isw-disabled' );\n\t\t\t\t\t} );\n\t\t\t\t},\n\n\t\t\t\taddSlashes: function( string ) {\n\t\t\t\t\tstring = string.replace( /'/g, '\\\\\\'' );\n\t\t\t\t\tstring = string.replace( /\"/g, '\\\\\\\"' );\n\t\t\t\t\treturn string;\n\t\t\t\t},\n\n\t\t\t\tgetChosenAttributes: function( $swatches ) {\n\t\t\t\t\tvar data    = {},\n\t\t\t\t\t    count   = 0,\n\t\t\t\t\t    chosen  = 0,\n\t\t\t\t\t    $swatch = $swatches.find( '.isw-swatch' );\n\n\t\t\t\t\t$swatch.each( function() {\n\n\t\t\t\t\t\tvar attribute_name = 'attribute_' +\n\t\t\t\t\t\t                     $( this ).attr( 'data-attribute' ),\n\t\t\t\t\t\t    value          = $( this ).find( '.isw-term.isw-selected' ).attr( 'data-term' ) || '';\n\n\t\t\t\t\t\tif ( value.length > 0 ) {\n\t\t\t\t\t\t\tchosen ++;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcount ++;\n\t\t\t\t\t\tdata[ attribute_name ] = value;\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'count': count,\n\t\t\t\t\t\t'chosenCount': chosen,\n\t\t\t\t\t\t'data': data,\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\tfindMatchingVariations: function( variationData, settings ) {\n\t\t\t\t\tvar matching = [];\n\t\t\t\t\tfor ( var i = 0; i < variationData.length; i ++ ) {\n\t\t\t\t\t\tvar variation = variationData[ i ];\n\n\t\t\t\t\t\tif ( this.isMatch( variation.attributes, settings ) ) {\n\t\t\t\t\t\t\tmatching.push( variation );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn matching;\n\t\t\t\t},\n\n\t\t\t\tisMatch: function( variation_attributes, attributes ) {\n\t\t\t\t\tvar match = true;\n\t\t\t\t\tfor ( var attr_name in variation_attributes ) {\n\t\t\t\t\t\tif ( variation_attributes.hasOwnProperty( attr_name ) ) {\n\t\t\t\t\t\t\tvar val1 = variation_attributes[ attr_name ];\n\t\t\t\t\t\t\tvar val2 = attributes[ attr_name ];\n\t\t\t\t\t\t\tif ( val1 !== undefined && val2 !== undefined &&\n\t\t\t\t\t\t\t     val1.length !== 0 && val2.length !== 0 &&\n\t\t\t\t\t\t\t     val1 !== val2 ) {\n\t\t\t\t\t\t\t\tmatch = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn match;\n\t\t\t\t},\n\n\t\t\t\tfoundVariation: function( $swatches, variation ) {\n\t\t\t\t\tvar self         = this,\n\t\t\t\t\t    $product     = $swatches.closest( '.product' ),\n\t\t\t\t\t    $price       = $product.find( isw.price_selector ).not( '.price-cloned' ),\n\t\t\t\t\t    $price_clone = $price.clone().addClass( 'price-cloned' ).css( 'display', 'none' );\n\n\t\t\t\t\tif ( variation.price_html ) {\n\n\t\t\t\t\t\tif ( ! $product.find( '.price-cloned' ).length ) {\n\t\t\t\t\t\t\t$product.append( $price_clone );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t$price.replaceWith( variation.price_html );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ( $product.find( '.price-cloned' ).length ) {\n\t\t\t\t\t\t\t$price.replaceWith( $price_clone.html() );\n\t\t\t\t\t\t\t$price_clone.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// add variation id\n\t\t\t\t\t$swatches.attr( 'data-variation_id', variation.variation_id );\n\n\t\t\t\t\t// update image\n\t\t\t\t\tself.variationsImageUpdate( variation, $product );\n\n\t\t\t\t\t// change add to cart button text\n\t\t\t\t\tself.changeAddToCartBtnText( variation, $product );\n\t\t\t\t},\n\n\t\t\t\tsetVariationAttr: function( $el, attr, value ) {\n\t\t\t\t\tif ( undefined === $el.attr( 'data-o_' + attr ) ) {\n\t\t\t\t\t\t$el.attr( 'data-o_' + attr, (\n\t\t\t\t\t\t\t! $el.attr( attr )\n\t\t\t\t\t\t) ? '' : $el.attr( attr ) );\n\t\t\t\t\t}\n\t\t\t\t\tif ( false === value ) {\n\t\t\t\t\t\t$el.removeAttr( attr );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$el.attr( attr, value );\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tresetVariationAttr: function( $el, attr ) {\n\t\t\t\t\tif ( undefined !== $el.attr( 'data-o_' + attr ) ) {\n\t\t\t\t\t\t$el.attr( attr, $el.attr( 'data-o_' + attr ) );\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tvariationsImageUpdate: function( variation, $product ) {\n\t\t\t\t\tvar self         = this,\n\t\t\t\t\t    $product_img = $product.find( '.wp-post-image' );\n\n\t\t\t\t\tif ( variation && variation.image.full_src ) {\n\t\t\t\t\t\tself.setVariationAttr( $product_img, 'src',\n\t\t\t\t\t\t\tvariation.image.full_src );\n\t\t\t\t\t\tself.setVariationAttr( $product_img, 'srcset',\n\t\t\t\t\t\t\tvariation.image.full_src );\n\t\t\t\t\t\tself.setVariationAttr( $product_img, 'sizes',\n\t\t\t\t\t\t\tvariation.image.sizes );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.resetVariationAttr( $product_img, 'src' );\n\t\t\t\t\t\tself.resetVariationAttr( $product_img, 'srcset' );\n\t\t\t\t\t\tself.resetVariationAttr( $product_img, 'sizes' );\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tchangeAddToCartBtnText: function( variation, $product ) {\n\t\t\t\t\tvar $atcBtn = $product.find( '.add_to_cart_button' ),\n\t\t\t\t\t    text    = '';\n\n\t\t\t\t\t$atcBtn.removeClass( 'added' );\n\n\t\t\t\t\tif ( Object.keys( variation.attributes ).length == $product.find( '.isw-swatch' ).length ) {\n\t\t\t\t\t\tif ( variation.is_in_stock === true ) {\n\t\t\t\t\t\t\ttext = isw.localization.add_to_cart_text;\n\t\t\t\t\t\t\t$atcBtn.addClass( 'isw-ready' ).removeClass( 'isw-readmore' );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// out of stock\n\t\t\t\t\t\t\ttext = isw.localization.read_more_text;\n\t\t\t\t\t\t\t$atcBtn.addClass( 'isw-readmore' ).removeClass( 'isw-ready' );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext = isw.localization.select_options_text;\n\t\t\t\t\t\t$atcBtn.removeClass( 'isw-ready isw-readmore' );\n\t\t\t\t\t}\n\n\t\t\t\t\t$atcBtn.addClass( 'isw-text-changed' ).text( text );\n\n\t\t\t\t\t$( 'body' ).trigger( 'isw_change_add_to_cart_button_text', [ $product ] );\n\t\t\t\t},\n\t\t\t},\n\t\t} )\n\t}\n).apply( this, [ window.isw, jQuery ] );\n\n(\n\tfunction( isw, $ ) {\n\t\t$( document ).ready( function() {\n\t\t\tif ( typeof isw.Swatches !== 'undefined' ) {\n\t\t\t\tisw.Swatches.init();\n\t\t\t}\n\t\t} );\n\t}\n).apply( this, [ window.isw, jQuery ] );\n"]}